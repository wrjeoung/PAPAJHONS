<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!--  용량제한 100MB 설정. -->
	<constant name="struts.multipart.maxSize" value="104857600"/>
	
	<!-- 메뉴  -->
	<package name="menu" extends="struts-default">
		<interceptors>
			<interceptor name="ibatis" class="menu.IbartisInterceptor"/>
		</interceptors>
		
		<action name="subAction" class="menu.SubAction">
			<interceptor-ref name="params"/>
			<result>
				/menu/sub.jsp
			</result>
		</action>
		
		<action name="menuAction" class="menu.MenuAction">
			<interceptor-ref name="ibatis"/>
			<interceptor-ref name="params"/>
			<result>
				/menu/menu.jsp
			</result>
		</action>
		
		<action name="detailAction" class="menu.DetailAction">
			<interceptor-ref name="ibatis"/>
			<interceptor-ref name="params"/>
			<result>
				/menu/detail.jsp
			</result>
		</action>
	</package>
	
	<package name="main" extends="struts-default">
		<action name="mainAction" class="main.MainAction">
			<result>
				/main/index.jsp
			</result>
		</action>
	</package>
	
	<!-- 공지사항 -->
	<package name="gongji.board" extends="struts-default">
		<!-- 리스트 -->
		<action name="listAction" class="gongji.board.listAction">
			<interceptor-ref name="params"/>
			<result>/gongji/gongjiList.jsp</result>
		</action>
		
		<!-- 글쓰기 -->
		<action name="writeForm" class="gongji.board.writeAction" method="form">
			<result>/gongji/gongjiWrite.jsp</result>
		</action>
		<action name="writeAction" class="gongji.board.writeAction">
			<!-- <result type="redirect-action">
			<param name="actionName">listAction</param>
			</result> -->
			<result type="redirectAction">
			<param name="actionName">listAction</param>
			</result> 
		</action>
		
		<!-- 글수정하기 -->
		<action name="modifyForm" class="gongji.board.modifyAction" method="form">
			<result>/gongji/gongjiModify.jsp</result>
		</action>
		<action name="modifyAction" class="gongji.board.modifyAction">
			<result type="redirect-action">
			<param name="actionName">listAction</param>
			</result>
		</action>
		<!-- 상세보기 -->
		<action name="viewAction" class="gongji.board.viewAction">
			<result>/gongji/gongjiView.jsp</result>
		</action>
		
		<!-- 삭제 -->
		<action name="deleteAction" class="gongji.board.deleteAction">
			<result type="redirect-action">
				<param name="actionName">listAction</param>
			</result>
		</action>	
		
		<action name="getlistAction" class="gongji.board.getlistAction">
			<result type="redirect-action">
				<param name="actionName">listAction</param>
			</result>
		</action>
	</package>
	
	<!-- 진행중인 이벤트 -->
	<package name="nowevent.board" extends="struts-default">
		<!-- 리스트 -->
		<action name="listAction2" class="nowevent.board.listAction">
			<interceptor-ref name="params"/>
			<result>/nowevent/nowList.jsp</result>
		</action>
		<!-- 이벤트 글쓰기 -->
		<!-- 리다이렉트 -->
		<action name="writeForm2" class="nowevent.board.writeAction" method="form">
			<result>/nowevent/nowWrite.jsp</result>
		</action> 
		<action name="writeAction2" class="nowevent.board.writeAction">
			<interceptor-ref name="fileUpload"/>
			<interceptor-ref name="params"/>
			<result type="redirect-action">
			<param name="actionName">listAction2</param>
			</result>
		</action>
		
		<!-- 상세보기 -->
		<action name="viewAction2" class="nowevent.board.viewAction">
			<result>/nowevent/nowView.jsp</result>
		</action>
		
		<!-- 삭제하기 -->
		<action name="deleteAction2" class="nowevent.board.deleteAction">
			<result type="redirect-action">
				<param name="actionName">listAction2</param>
			</result>
		</action>
		
		<!-- 수정하기 -->
		<action name="modifyForm2" class="nowevent.board.modifyAction" method="form">
			<result>/nowevent/nowModify.jsp</result>
		</action>
		<action name="modifyAction2" class="nowevent.board.modifyAction">
			<result type="redirect-action">
			<param name="actionName">listAction2</param>
			</result>
		</action>
		
		<!-- 댓글쓰기 -->
		<action name="RewriteForm" class="nowevent.board.rewriteAction" method="form">
			<result>/nowevent/nowView.jsp</result>
		</action> 
		<action name="RewriteAction" class="nowevent.board.rewriteAction">
			<interceptor-ref name="params"/>
			<result type="redirect-action">
			<param name="actionName">listAction2</param>
			</result>
		</action>
		
		<!-- 댓글보기 -->
		<action name="relistAction" class="nowevent.board.relistAction">
			<interceptor-ref name="params"/>
			<result>/nowevent/nowView.jsp</result>
		</action>
	</package>
	
	<!-- 회원가입 -->
	<package name="signup" extends="struts-default">
		<interceptors>
			<interceptor name="ibatis" class="papa.address.IbatisInterceptor" />
		</interceptors>
		<!-- 글로벌 예외 처리 화면 설정 
		<global-results>
			<result name="error">/board/pageError.jsp</result>
		</global-results>
		
		<global-exception-mappings>
			<exception-mapping result="error" exception="java.lang.Exception"/>
		</global-exception-mappings>	
	    -->

		<action name="idSearchAction" class="papa.member.MemberAction" method="form">
			<result>/member/search_id.jsp</result>
		</action>
		
		<action name="idSearchProAction" class="papa.member.MemberAction" method="checkIdPro">
			<interceptor-ref name="ibatis"></interceptor-ref>
			<interceptor-ref name="params"></interceptor-ref>		
			<result>/member/search_id.jsp</result>
		</action>
	    
		<action name="addressAction" class="papa.address.AddressAction" method="form">
			<result>/com/zipCode.jsp</result>
		</action>
		
		<action name="addrSearchAction" class="papa.address.AddressAction">
			<interceptor-ref name="ibatis"></interceptor-ref>
			<interceptor-ref name="params"></interceptor-ref>
			<result>/com/zipCode.jsp</result>
		</action>
		
		<action name="signUpAction" class="papa.member.MemberAction" method="form">
			<result>/signup/cont.jsp</result>
		</action>
		
		<action name="signUpProAction" class="papa.member.MemberAction" >
		    <interceptor-ref name="prepare" />
		    <interceptor-ref name="modelDriven" />
		    <interceptor-ref name="ibatis"></interceptor-ref>
		    <interceptor-ref name="params"></interceptor-ref>
			<result>/signup/cont.jsp</result>
		</action>						
	</package>	
</struts>